(this["webpackJsonpgame-script-tool"]=this["webpackJsonpgame-script-tool"]||[]).push([[0],{17:function(e,n,t){e.exports=t(25)},22:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),o=t.n(r),l=(t(22),t(3)),i=t(5),u=t(1),d=t(2),m=function(e){try{localStorage.setItem("me.1000ship.game-script-tool",JSON.stringify(e))}catch(n){alert("\uc790\ub3d9 \uc800\uc7a5 \uc911 \ubb38\uc81c \ubc1c\uc0dd")}},s=function(e){try{!function(e,n,t){var a=new Blob([e],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{var c=document.createElement("a"),r=URL.createObjectURL(a);c.href=r,c.download=n,document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(r)}),0)}}(JSON.stringify(e),"script_".concat(parseInt(1e3*Math.random())),"txt")}catch(n){alert("\uc800\uc7a5\ud558\ub294\ub370 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc5b4\uc694")}},p=function(e){try{var n=document.createElement("input");n.type="file",n.accept="text/plain,\xa0text/html,\xa0.jsp",n.click(),n.onchange=function(n){!function(n){var t=new FileReader;t.readAsText(n,"UTF-8"),t.onload=function(){e(JSON.parse(t.result))}}(n.target.files[0])}}catch(t){alert("\ubd88\ub7ec\uc624\ub294\ub370 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc5b4\uc694")}};function f(){var e=Object(u.a)(["\n  padding: 5px 5px;\n"]);return f=function(){return e},e}function g(){var e=Object(u.a)(["\n  position: fixed;\n  right: 5px;\n  bottom: 5px;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n"]);return g=function(){return e},e}var v=d.a.div(g()),h=d.a.button(f()),b=function(e){var n=e.toggleSceneForm,t=e.blockList,a=e.setBlockList;return c.a.createElement(v,null,c.a.createElement(h,{onClick:function(e){window.confirm("\uc815\ub9d0 \ubaa8\ub4e0 Scene\uc744 \uc0ad\uc81c\ud560\uae4c\uc694??")&&(a([]),window.alert("\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4. \uc6d0\uce58\uc54a\uc558\ub2e4\uba74 \uc9c0\uae08 \ub2f9\uc7a5 \uc0c8\ub85c\uace0\uce68\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."))}},"Clear Script"),c.a.createElement(h,{onClick:function(e){n()}},"Add Scene Block"),c.a.createElement(h,{onClick:function(e){}},"Add Ending Block(\ubbf8\uc644\uc131)"),c.a.createElement(h,{onClick:function(e){p((function(e){a(e),m(e)}))}},"Import Script"),c.a.createElement(h,{onClick:function(e){s(t)}},"Export Script"))};function x(){var e=Object(u.a)(["\n  font-size: 12px;\n  margin-left: 6px;\n  cursor: pointer;\n  &:hover {\n    font-weight: bolder;\n  }\n"]);return x=function(){return e},e}function E(){var e=Object(u.a)(["\n  margin: 0px;\n  padding: 0px;\n  list-style: none;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  display: flex;\n"]);return E=function(){return e},e}function k(){var e=Object(u.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  padding: 3px;\n  display: inline-block;\n"]);return k=function(){return e},e}function O(){var e=Object(u.a)(["\n  margin-right: 10px;\n  font-size: 13px;\n"]);return O=function(){return e},e}function y(){var e=Object(u.a)([""]);return y=function(){return e},e}function I(){var e=Object(u.a)(["\n  margin-top: 5px;\n  background-color: white;\n  padding: 5px;\n  border-radius: 3px;\n"]);return I=function(){return e},e}function S(){var e=Object(u.a)(["\n  font-style: italic;\n  margin-top: 5px;\n"]);return S=function(){return e},e}function j(){var e=Object(u.a)(["\n  font-weight: 800;\n  cursor: pointer;\n  & small {\n    font-weight: 400;\n    cursor: default;\n    margin-left: 8px;\n  }\n"]);return j=function(){return e},e}function w(){var e=Object(u.a)(["\n  background-color: #efefef;\n  padding: 10px;\n  margin: 5px;\n  position: relative;\n"]);return w=function(){return e},e}var C=d.a.div(w()),B=d.a.div(j()),N=d.a.div(S()),F=d.a.div(I()),L=d.a.div(y()),T=d.a.span(O()),M=d.a.span(k(),(function(e){return e.color?e.color:"white"})),D=d.a.ul(E()),J=d.a.li(x());var R=function(e){var n=e.sceneId,t=e.characterName,a=e.sceneScript,r=e.characterImage,o=e.backgroundImage,l=e.sceneSound,i=e.options,u=e.nextSceneId,d=e.sceneType,m=e.moveBlockBy,s=e.removeBlock,p=e.modifyBlock;return c.a.createElement(C,null,c.a.createElement(D,null,c.a.createElement(J,{onClick:function(e){return m(n,-1)}},"\uc704\ub85c"),c.a.createElement(J,{onClick:function(e){return m(n,1)}},"\uc544\ub798\ub85c"),c.a.createElement(J,{onClick:function(){s(n)}},"\uc0ad\uc81c"),c.a.createElement(J,{onClick:function(){p(n)}},"\uc218\uc815")),c.a.createElement(B,null,n," ",c.a.createElement("small",null,"text"===d?"\ud83d\udcac\ucc44\ud305":"\ud83d\udc65\ub9cc\ub0a8")),c.a.createElement(N,null,t),c.a.createElement(F,null,a),(null===r||void 0===r?void 0:r.length)>0&&c.a.createElement(T,null,"\ud83d\udd7a\ud83c\udffb",r),(null===o||void 0===o?void 0:o.length)>0&&c.a.createElement(T,null,"\ud83c\udfde",o),(null===l||void 0===l?void 0:l.length)>0&&c.a.createElement(T,null,"\ud83d\udd08",l),0===i.length?c.a.createElement("div",null,"Next Scene ID : ",u):c.a.createElement("ol",null,i.map((function(e,n){var t=e.answer,a=e.reaction,r=e.nextId;return c.a.createElement("li",{key:n},(null===t||void 0===t?void 0:t.length)>0?c.a.createElement(M,{color:"lightcyan"},t):null,(null===t||void 0===t?void 0:t.length)>0?" \u2192 ":null,(null===a||void 0===a?void 0:a.length)>0?c.a.createElement(M,{color:"lightyellow"},a):null,(null===a||void 0===a?void 0:a.length)>0?" \u2192 ":null,r)}))),c.a.createElement(L,null))};function A(){var e=Object(u.a)(["\n  padding: 5px 0px;\n"]);return A=function(){return e},e}var U=d.a.div(A());var z=function(e){var n=e.blockList,t=e.setBlockList,a=e.setModifySceneId,r=e.setIsSceneFormOpened,o=function(e,a){var c=n.findIndex((function(n){return n.sceneId===e})),r=c+a;r<0||r>=n.length||t((function(e){var n=[].concat(Object(l.a)(e.slice(0,c)),Object(l.a)(e.slice(c+1))),t=[].concat(Object(l.a)(n.slice(0,r)),[e[c]],Object(l.a)(n.slice(r)));return m(t),t}))},i=function(e){window.confirm("\uc0ad\uc81c\ud55c \ud6c4 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&t((function(n){var t=n.findIndex((function(n){return n.sceneId===e}));return m(n.slice(0,t).concat(n.slice(t+1))),n.slice(0,t).concat(n.slice(t+1))}))},u=function(e){r(!0),a(e)};return c.a.createElement(U,null,n.map((function(e,n){var t=e.sceneId,a=e.characterName,r=e.sceneScript,l=e.characterImage,d=e.backgroundImage,m=e.sceneSound,s=e.options,p=e.nextSceneId,f=e.sceneType;return c.a.createElement(R,{key:t,sceneId:t,characterName:a,sceneScript:r,characterImage:l,backgroundImage:d,sceneSound:m,options:s,nextSceneId:p,sceneType:f,moveBlockBy:o,removeBlock:i,modifyBlock:u})})))},W=t(7),H=t(4);function $(){var e=Object(u.a)(["\n  width: 100%;\n  height: 50px;\n  display: block;\n"]);return $=function(){return e},e}function _(){var e=Object(u.a)([""]);return _=function(){return e},e}function q(){var e=Object(u.a)([""]);return q=function(){return e},e}function G(){var e=Object(u.a)(["\n  padding: 3px 0px;\n"]);return G=function(){return e},e}function K(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return K=function(){return e},e}function P(){var e=Object(u.a)(["\n  display: ",";\n  padding: 10px 0px;\n  border-bottom: 1px solid gray;\n  z-index: 1;\n"]);return P=function(){return e},e}var Q=d.a.div(P(),(function(e){return e.isOpend?"block":"none"})),V=d.a.div(K()),X=d.a.div(G()),Y=d.a.label(q()),Z=d.a.input(_()),ee=d.a.textarea($()),ne=function(e){var n=e.isOpend,t=e.isModifyMode,a=e.formData,r=a.sceneId,o=a.characterName,l=a.sceneScript,i=a.characterImage,u=a.backgroundImage,d=a.sceneSound,m=a.nextSceneId,s=a.options,p=a.sceneType,f=e.onInputChange,g=e.onOptionAddClick,v=e.onOptionRemoveClick,h=e.onNewBlockClick,b=e.onModifyBlockClick;return c.a.createElement(Q,{isOpend:n},c.a.createElement(X,null,c.a.createElement("span",null,"Scene Type : "),c.a.createElement(Z,{name:"sceneType",id:"scene-type-meet","data-value":"meet",type:"radio",checked:"meet"===p,onChange:f}),c.a.createElement(Y,{htmlFor:"scene-type-meet"},"\ub9cc\ub0a8"),c.a.createElement(Z,{name:"sceneType",id:"scene-type-text","data-value":"text",type:"radio",checked:"text"===p,onChange:f}),c.a.createElement(Y,{htmlFor:"scene-type-text"},"\ubb38\uc790")),c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"scene-id"},"Scene ID : "),c.a.createElement(Z,{name:"sceneId",id:"scene-id",type:"text",placeholder:"#3-1",value:r,onChange:f,disabled:t}),t&&c.a.createElement("small",null," \uc218\uc815 \uc911")),c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"character-name"},"Character Name : "),c.a.createElement(Z,{name:"characterName",value:o,onChange:f,id:"character-name",type:"text",placeholder:"John Mayer"})),c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"scene-script"},"Scene Script : "),c.a.createElement(ee,{name:"sceneScript",value:l,onChange:f,id:"scene-script",placeholder:"Hello, the weather is sunny. Shall we go picnic?"})),c.a.createElement(V,null,c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"character-image"},"Character Image : "),c.a.createElement(Z,{name:"characterImage",value:i,onChange:f,id:"character-image",type:"text",placeholder:"smile.png (\uc120\ud0dd\uc785\ub825)"})),c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"background-image"},"Background Image : "),c.a.createElement(Z,{name:"backgroundImage",value:u,onChange:f,id:"background-image",type:"text",placeholder:"park.png (\uc120\ud0dd\uc785\ub825)"})),c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"scene-sound"},"Scene Sound : "),c.a.createElement(Z,{name:"sceneSound",value:d,onChange:f,id:"scene-sound",type:"text",placeholder:"laugh.mp3 (\uc120\ud0dd\uc785\ub825)"}))),s.length>0?s.map((function(e,n){var t=e.answer,a=e.reaction,r=e.nextId;return c.a.createElement(X,{key:n,style:{display:"flex"}},c.a.createElement(Y,null,n+1,". "),c.a.createElement(Z,{style:{flex:1},type:"text",placeholder:"(\ub300\ub2f5) I like too",name:"answer","data-option-index":n,value:t,onChange:f}),c.a.createElement(Z,{style:{flex:1},type:"text",placeholder:"(\ubc18\uc751) Let's meet now",name:"reaction","data-option-index":n,value:a,onChange:f}),c.a.createElement(Z,{type:"text",placeholder:"#3-".concat(n+2),name:"nextId","data-option-index":n,value:r,onChange:f}))})):c.a.createElement(X,null,c.a.createElement(Y,{htmlFor:"next-scene-id"},"Next Scene ID : "),c.a.createElement(Z,{name:"nextSceneId",value:m,onChange:f,id:"next-scene-id",type:"text",placeholder:"#4-1"})),c.a.createElement("button",{onClick:g},"\uc120\ud0dd\uc9c0 \ucd94\uac00"),s.length>0&&c.a.createElement("button",{onClick:v},"\uc120\ud0dd\uc9c0 \uc0ad\uc81c"),c.a.createElement("br",null),c.a.createElement("button",{onClick:t?b:h},t?"\ube14\ub7ed \uc218\uc815":"\ube14\ub7ed \ucd94\uac00"))},te={sceneId:"",characterName:"",sceneScript:"",characterImage:"",backgroundImage:"",sceneSound:"",nextSceneId:"",options:[{answer:"",reaction:"",nextId:""}],sceneType:"meet"};var ae=function(e){var n=e.createNewBlock,t=e.modifyBlock,r=e.blockList,o=e.isOpend,l=e.modifySceneId,u=void 0===l?null:l,d=u?r.find((function(e){return e.sceneId===u})):te;Object(a.useEffect)((function(){f(d)}),[d]);var m=Object(a.useState)(d),s=Object(i.a)(m,2),p=s[0],f=s[1],g=p.sceneId,v=p.options;return c.a.createElement(ne,{isOpend:o,isModifyMode:null!==u,formData:p,onInputChange:function(e){var n=e.target,t=n.name,a=n.value,c=n.dataset,r=c.optionIndex,o=c.value;void 0===p[t]&&void 0===r||f(void 0!==o?Object(H.a)(Object(H.a)({},p),{},Object(W.a)({},t,o)):void 0===r?Object(H.a)(Object(H.a)({},p),{},Object(W.a)({},t,a)):function(e){return e.options[r][t]=a,Object.assign({},e)})},onOptionAddClick:function(e){f(Object(H.a)(Object(H.a)({},p),{},{options:p.options.concat({answer:"",reaction:"",nextId:""})}))},onOptionRemoveClick:function(e){v.length>0&&f(Object(H.a)(Object(H.a)({},p),{},{options:v.slice(0,v.length-1)}))},onNewBlockClick:function(e){0===g.length?alert("Scene ID\ub97c \uc785\ub825\ud558\uc138\uc694."):r.find((function(e){return e.sceneId===g}))?alert("\uc911\ubcf5\ub418\ub294 Scene Type\uacfc Scene ID\uac00 \uc788\uc2b5\ub2c8\ub2e4."):n&&(n(Object.assign({},p)),f(d))},onModifyBlockClick:function(e){t(Object.assign({},p))}})};function ce(){var e=Object(u.a)(["\n  overflow-y: auto;\n"]);return ce=function(){return e},e}function re(){var e=Object(u.a)(["\n  @media (min-width: 800px) {\n    width: 80%;\n  }\n  margin: auto auto;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return re=function(){return e},e}var oe=d.a.div(re()),le=d.a.div(ce());var ie=function(){var e=function(){var e;try{null===(e=JSON.parse(localStorage.getItem("me.1000ship.game-script-tool")))&&(e=[])}catch(n){e=[]}return e}(),n=Object(a.useState)(e),t=Object(i.a)(n,2),r=t[0],o=t[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),s=d[0],p=d[1],f=Object(a.useState)(null),g=Object(i.a)(f,2),v=g[0],h=g[1];return c.a.createElement(oe,null,c.a.createElement(b,{toggleSceneForm:function(){p((function(e){return!e}))},blockList:r,setBlockList:o}),c.a.createElement(ae,{blockList:r,createNewBlock:function(e){m([].concat(Object(l.a)(r),[e])),o([].concat(Object(l.a)(r),[e]))},modifyBlock:function(e){var n=r.findIndex((function(n){return n.sceneId===e.sceneId}));-1!==n?(m([].concat(Object(l.a)(r.slice(0,n)),[e],Object(l.a)(r.slice(n+1)))),o([].concat(Object(l.a)(r.slice(0,n)),[e],Object(l.a)(r.slice(n+1)))),h(null),p(!1)):alert("\uc218\uc815\ud558\uace0\uc790\ud558\ub294 Scene ".concat(e.sceneId,"\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))},isOpend:s,modifySceneId:v}),c.a.createElement(le,null,c.a.createElement(z,{blockList:r,setBlockList:o,setModifySceneId:h,setIsSceneFormOpened:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.c8113850.chunk.js.map