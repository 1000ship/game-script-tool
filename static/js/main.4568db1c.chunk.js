(this["webpackJsonpgame-script-tool"]=this["webpackJsonpgame-script-tool"]||[]).push([[0],{17:function(e,n,t){e.exports=t(25)},22:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),o=t.n(r),l=(t(22),t(3)),i=t(5),u=t(1),d=t(2),s=function(e){try{localStorage.setItem("me.1000ship.game-script-tool",JSON.stringify(e))}catch(n){alert("\uc790\ub3d9 \uc800\uc7a5 \uc911 \ubb38\uc81c \ubc1c\uc0dd")}},m=function(e){try{!function(e,n,t){var a=new Blob([e],{type:t});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,n);else{var c=document.createElement("a"),r=URL.createObjectURL(a);c.href=r,c.download=n,document.body.appendChild(c),c.click(),setTimeout((function(){document.body.removeChild(c),window.URL.revokeObjectURL(r)}),0)}}(JSON.stringify(e),"script_".concat(parseInt(1e3*Math.random())),"txt")}catch(n){alert("\uc800\uc7a5\ud558\ub294\ub370 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc5b4\uc694")}},p=function(e){try{var n=document.createElement("input");n.type="file",n.accept="text/plain,\xa0text/html,\xa0.jsp",n.click(),n.onchange=function(n){!function(n){var t=new FileReader;t.readAsText(n,"UTF-8"),t.onload=function(){e(JSON.parse(t.result))}}(n.target.files[0])}}catch(t){alert("\ubd88\ub7ec\uc624\ub294\ub370 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc5b4\uc694")}};function f(){var e=Object(u.a)(["\n  padding: 5px 5px;\n"]);return f=function(){return e},e}function g(){var e=Object(u.a)(["\n  position: fixed;\n  right: 5px;\n  bottom: 5px;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n"]);return g=function(){return e},e}var v=d.a.div(g()),h=d.a.button(f()),b=function(e){var n=e.blockList,t=e.setBlockList,a=e.setModifySceneId,r=e.setIsSceneFormOpened;return c.a.createElement(v,null,c.a.createElement(h,{onClick:function(e){window.confirm("\uc815\ub9d0 \ubaa8\ub4e0 Scene\uc744 \uc0ad\uc81c\ud560\uae4c\uc694??")&&(t([]),window.alert("\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4. \uc6d0\uce58\uc54a\uc558\ub2e4\uba74 \uc9c0\uae08 \ub2f9\uc7a5 \uc0c8\ub85c\uace0\uce68\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."))}},"Clear Script"),c.a.createElement(h,{onClick:function(e){r((function(e){return!e})),a(null)}},"Add Scene Block"),c.a.createElement(h,{onClick:function(e){p((function(e){t(e),s(e)}))}},"Import Script"),c.a.createElement(h,{onClick:function(e){m(n)}},"Export Script"))};function x(){var e=Object(u.a)(["\n  font-size: 12px;\n  margin-left: 6px;\n  cursor: pointer;\n  &:hover {\n    font-weight: bolder;\n  }\n"]);return x=function(){return e},e}function y(){var e=Object(u.a)(["\n  margin: 0px;\n  padding: 0px;\n  list-style: none;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  display: flex;\n"]);return y=function(){return e},e}function E(){var e=Object(u.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  padding: 3px;\n  display: inline-block;\n"]);return E=function(){return e},e}function O(){var e=Object(u.a)(["\n  margin-right: 10px;\n  font-size: 13px;\n"]);return O=function(){return e},e}function k(){var e=Object(u.a)([""]);return k=function(){return e},e}function I(){var e=Object(u.a)([""]);return I=function(){return e},e}function j(){var e=Object(u.a)(["\n  margin-top: 5px;\n  background-color: white;\n  padding: 5px;\n  border-radius: 3px;\n"]);return j=function(){return e},e}function S(){var e=Object(u.a)(["\n  font-style: italic;\n  margin-top: 5px;\n"]);return S=function(){return e},e}function w(){var e=Object(u.a)(["\n  font-weight: 800;\n  cursor: pointer;\n  & small {\n    font-weight: 400;\n    cursor: default;\n    margin-left: 8px;\n  }\n"]);return w=function(){return e},e}function C(){var e=Object(u.a)(["\n  background-color: #efefef;\n  padding: 10px;\n  margin: 5px;\n  position: relative;\n"]);return C=function(){return e},e}var B=d.a.div(C()),F=d.a.div(w()),N=d.a.div(S()),L=d.a.div(j()),M=d.a.ol(I()),T=d.a.li(k()),D=d.a.span(O()),J=d.a.span(E(),(function(e){return e.color?e.color:"white"})),R=d.a.ul(y()),U=d.a.li(x());var z=function(e){var n=e.sceneId,t=e.characterName,a=e.sceneScript,r=e.characterImage,o=e.backgroundImage,l=e.sceneSound,i=e.options,u=e.nextSceneId,d=e.sceneType,s=e.moveBlockBy,m=e.removeBlock,p=e.modifyBlock;return c.a.createElement(B,null,c.a.createElement(R,null,c.a.createElement(U,{onClick:function(e){return s(n,-1)}},"\uc704\ub85c"),c.a.createElement(U,{onClick:function(e){return s(n,1)}},"\uc544\ub798\ub85c"),c.a.createElement(U,{onClick:function(){m(n)}},"\uc0ad\uc81c"),c.a.createElement(U,{onClick:function(){p(n)}},"\uc218\uc815")),c.a.createElement(F,null,n," ",c.a.createElement("small",null,"ending"===d?"\ud83d\udd1a\uc5d4\ub529":"text"===d?"\ud83d\udcac\ucc44\ud305":"\ud83d\udc65\ub9cc\ub0a8")),"ending"!==d&&c.a.createElement(N,null,t),c.a.createElement(L,null,a),"ending"!==d&&(null===r||void 0===r?void 0:r.length)>0&&c.a.createElement(D,null,"\ud83d\udd7a\ud83c\udffb",r),"ending"!==d&&(null===o||void 0===o?void 0:o.length)>0&&c.a.createElement(D,null,"\ud83c\udfde",o),"ending"!==d&&(null===l||void 0===l?void 0:l.length)>0&&c.a.createElement(D,null,"\ud83d\udd08",l),"ending"!==d&&c.a.createElement(c.a.Fragment,null,0===i.length?c.a.createElement("div",null,"Next Scene ID : ",u):c.a.createElement(M,null,i.map((function(e,n){var t=e.answer,a=e.reaction,r=e.nextId;return c.a.createElement(T,{key:n},(null===t||void 0===t?void 0:t.length)>0?c.a.createElement(J,{color:"lightcyan"},t):null,(null===t||void 0===t?void 0:t.length)>0?" \u2192 ":null,(null===a||void 0===a?void 0:a.length)>0?c.a.createElement(J,{color:"lightyellow"},a):null,(null===a||void 0===a?void 0:a.length)>0?" \u2192 ":null,r)})))))};function A(){var e=Object(u.a)(["\n  padding: 5px 0px;\n"]);return A=function(){return e},e}var W=d.a.div(A());var G=function(e){var n=e.blockList,t=e.setBlockList,a=e.setModifySceneId,r=e.setIsSceneFormOpened,o=function(e,a){var c=n.findIndex((function(n){return n.sceneId===e})),r=c+a;r<0||r>=n.length||t((function(e){var n=[].concat(Object(l.a)(e.slice(0,c)),Object(l.a)(e.slice(c+1))),t=[].concat(Object(l.a)(n.slice(0,r)),[e[c]],Object(l.a)(n.slice(r)));return s(t),t}))},i=function(e){window.confirm("\uc0ad\uc81c\ud55c \ud6c4 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&t((function(n){var t=n.findIndex((function(n){return n.sceneId===e}));return s(n.slice(0,t).concat(n.slice(t+1))),n.slice(0,t).concat(n.slice(t+1))}))},u=function(e){r(!0),a(e)};return c.a.createElement(W,null,n.map((function(e,n){var t=e.sceneId,a=e.characterName,r=e.sceneScript,l=e.characterImage,d=e.backgroundImage,s=e.sceneSound,m=e.options,p=e.nextSceneId,f=e.sceneType;return c.a.createElement(z,{key:t,sceneId:t,characterName:a,sceneScript:r,characterImage:l,backgroundImage:d,sceneSound:s,options:m,nextSceneId:p,sceneType:f,moveBlockBy:o,removeBlock:i,modifyBlock:u})})))},H=t(7),$=t(4),_={sceneId:"",characterName:"",sceneScript:"",characterImage:"",backgroundImage:"",sceneSound:"",nextSceneId:"",options:[{answer:"",reaction:"",nextId:""}],sceneType:"meet"};function q(){var e=Object(u.a)(["\n  width: 100%;\n  height: 50px;\n  display: block;\n"]);return q=function(){return e},e}function K(){var e=Object(u.a)([""]);return K=function(){return e},e}function P(){var e=Object(u.a)([""]);return P=function(){return e},e}function Q(){var e=Object(u.a)(["\n  padding: 3px 0px;\n"]);return Q=function(){return e},e}function V(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return V=function(){return e},e}function X(){var e=Object(u.a)(["\n  display: ",";\n  padding: 10px 0px;\n  border-bottom: 1px solid gray;\n  z-index: 1;\n"]);return X=function(){return e},e}var Y=d.a.div(X(),(function(e){return e.isOpend?"block":"none"})),Z=d.a.div(V()),ee=d.a.div(Q()),ne=d.a.label(P()),te=d.a.input(K()),ae=d.a.textarea(q()),ce=function(e){var n=e.isOpend,t=e.isModifyMode,a=e.formData,r=a.sceneId,o=a.characterName,l=a.sceneScript,i=a.characterImage,u=a.backgroundImage,d=a.sceneSound,s=a.nextSceneId,m=a.options,p=a.sceneType,f=e.onInputChange,g=e.onOptionAddClick,v=e.onOptionRemoveClick,h=e.onNewBlockClick,b=e.onModifyBlockClick;return c.a.createElement(Y,{isOpend:n},c.a.createElement(ee,null,c.a.createElement("span",null,"Scene Type : "),c.a.createElement(te,{name:"sceneType",id:"scene-type-meet","data-value":"meet",type:"radio",checked:"meet"===p,onChange:f}),c.a.createElement(ne,{htmlFor:"scene-type-meet"},"\ub9cc\ub0a8"),c.a.createElement(te,{name:"sceneType",id:"scene-type-text","data-value":"text",type:"radio",checked:"text"===p,onChange:f}),c.a.createElement(ne,{htmlFor:"scene-type-text"},"\ubb38\uc790"),c.a.createElement(te,{name:"sceneType",id:"scene-type-ending","data-value":"ending",type:"radio",checked:"ending"===p,onChange:f}),c.a.createElement(ne,{htmlFor:"scene-type-ending"},"\uc5d4\ub529")),c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"scene-id"},"Scene ID : "),c.a.createElement(te,{name:"sceneId",id:"scene-id",type:"text",placeholder:"#3-1",value:r,onChange:f,disabled:t}),t&&c.a.createElement("small",null," \uc218\uc815 \uc911")),"ending"!==p&&c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"character-name"},"Character Name : "),c.a.createElement(te,{name:"characterName",value:o,onChange:f,id:"character-name",type:"text",placeholder:"John Mayer"})),c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"scene-script"},"Scene Script : "),c.a.createElement(ae,{name:"sceneScript",value:l,onChange:f,id:"scene-script",placeholder:"ending"!==p?"Hello, the weather is sunny. Shall we go picnic?":"Game Over, She didn't reply to your message forever"})),"ending"!==p&&c.a.createElement(Z,null,c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"character-image"},"Character Image : "),c.a.createElement(te,{name:"characterImage",value:i,onChange:f,id:"character-image",type:"text",placeholder:"smile.png (\uc120\ud0dd\uc785\ub825)"})),c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"background-image"},"Background Image : "),c.a.createElement(te,{name:"backgroundImage",value:u,onChange:f,id:"background-image",type:"text",placeholder:"park.png (\uc120\ud0dd\uc785\ub825)"})),c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"scene-sound"},"Scene Sound : "),c.a.createElement(te,{name:"sceneSound",value:d,onChange:f,id:"scene-sound",type:"text",placeholder:"laugh.mp3 (\uc120\ud0dd\uc785\ub825)"}))),"ending"!==p&&c.a.createElement(c.a.Fragment,null,m.length>0?m.map((function(e,n){var t=e.answer,a=e.reaction,r=e.nextId;return c.a.createElement(ee,{key:n,style:{display:"flex"}},c.a.createElement(ne,null,n+1,". "),c.a.createElement(te,{style:{flex:1},type:"text",placeholder:"(\ub300\ub2f5) I like too",name:"answer","data-option-index":n,value:t,onChange:f}),c.a.createElement(te,{style:{flex:1},type:"text",placeholder:"(\ubc18\uc751) Let's meet now",name:"reaction","data-option-index":n,value:a,onChange:f}),c.a.createElement(te,{type:"text",placeholder:"#3-".concat(n+2),name:"nextId","data-option-index":n,value:r,onChange:f}))})):c.a.createElement(ee,null,c.a.createElement(ne,{htmlFor:"next-scene-id"},"Next Scene ID : "),c.a.createElement(te,{name:"nextSceneId",value:s,onChange:f,id:"next-scene-id",type:"text",placeholder:"#4-1"})),c.a.createElement("button",{onClick:g},"\uc120\ud0dd\uc9c0 \ucd94\uac00"),m.length>0&&c.a.createElement("button",{onClick:v},"\uc120\ud0dd\uc9c0 \uc0ad\uc81c"),c.a.createElement("br",null)),c.a.createElement("button",{onClick:t?b:h},t?"\ube14\ub7ed \uc218\uc815":"\ube14\ub7ed \ucd94\uac00"))};var re=function(e){var n=e.createNewBlock,t=e.modifyBlock,r=e.blockList,o=e.isOpend,l=e.modifySceneId,u=void 0===l?null:l,d=u?r.find((function(e){return e.sceneId===u})):_;Object(a.useEffect)((function(){f(Object($.a)({},d))}),[d]);var s=Object(a.useState)(d),m=Object(i.a)(s,2),p=m[0],f=m[1],g=p.sceneId,v=p.options;return c.a.createElement(ce,{isOpend:o,isModifyMode:null!==u,formData:p,onInputChange:function(e){var n=e.target,t=n.name,a=n.value,c=n.dataset,r=c.optionIndex,o=c.value;void 0===p[t]&&void 0===r||f(void 0!==o?Object($.a)(Object($.a)({},p),{},Object(H.a)({},t,o)):void 0===r?Object($.a)(Object($.a)({},p),{},Object(H.a)({},t,a)):function(e){return e.options[r][t]=a,Object.assign({},e)})},onOptionAddClick:function(e){f(Object($.a)(Object($.a)({},p),{},{options:p.options.concat({answer:"",reaction:"",nextId:""})}))},onOptionRemoveClick:function(e){v.length>0&&f(Object($.a)(Object($.a)({},p),{},{options:v.slice(0,v.length-1)}))},onNewBlockClick:function(e){0===g.length?alert("Scene ID\ub97c \uc785\ub825\ud558\uc138\uc694."):r.find((function(e){return e.sceneId===g}))?alert("\uc911\ubcf5\ub418\ub294 Scene Type\uacfc Scene ID\uac00 \uc788\uc2b5\ub2c8\ub2e4."):n&&(n(Object.assign({},p)),f(Object($.a)(Object($.a)({},d),{},{options:[{answer:"",reaction:"",nextId:""}]})))},onModifyBlockClick:function(e){t(Object.assign({},p))}})};function oe(){var e=Object(u.a)(["\n  overflow-y: auto;\n"]);return oe=function(){return e},e}function le(){var e=Object(u.a)(["\n  @media (min-width: 800px) {\n    width: 80%;\n  }\n  margin: auto auto;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return le=function(){return e},e}var ie=d.a.div(le()),ue=d.a.div(oe());var de=function(){var e=function(){var e;try{null===(e=JSON.parse(localStorage.getItem("me.1000ship.game-script-tool")))&&(e=[])}catch(n){e=[]}return e}(),n=Object(a.useState)(e),t=Object(i.a)(n,2),r=t[0],o=t[1],u=Object(a.useState)(!1),d=Object(i.a)(u,2),m=d[0],p=d[1],f=Object(a.useState)(null),g=Object(i.a)(f,2),v=g[0],h=g[1];return c.a.createElement(ie,null,c.a.createElement(b,{blockList:r,setBlockList:o,setModifySceneId:h,setIsSceneFormOpened:p}),c.a.createElement(re,{blockList:r,createNewBlock:function(e){s([].concat(Object(l.a)(r),[e])),o([].concat(Object(l.a)(r),[e]))},modifyBlock:function(e){var n=r.findIndex((function(n){return n.sceneId===e.sceneId}));-1!==n?(s([].concat(Object(l.a)(r.slice(0,n)),[e],Object(l.a)(r.slice(n+1)))),o([].concat(Object(l.a)(r.slice(0,n)),[e],Object(l.a)(r.slice(n+1)))),h(null),p(!1)):alert("\uc218\uc815\ud558\uace0\uc790\ud558\ub294 Scene ".concat(e.sceneId,"\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))},isOpend:m,modifySceneId:v}),c.a.createElement(ue,null,c.a.createElement(G,{blockList:r,setBlockList:o,setModifySceneId:h,setIsSceneFormOpened:p})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.4568db1c.chunk.js.map