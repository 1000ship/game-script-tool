{"version":3,"sources":["Utils/api.js","Components/ControlMenu.js","Components/Partials/ScriptBlock.js","Components/ScriptView.js","Components/ScriptInput/constant.js","Components/ScriptInput/ScriptInputPresenter.js","Components/ScriptInput/ScriptInputController.js","Components/ScriptInput/index.js","Utils/Constant.js","App.js","serviceWorker.js","index.js"],"names":["saveBlockList","blockList","localStorage","setItem","JSON","stringify","alert","exportScript","data","filename","type","file","Blob","window","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","parseInt","Math","random","importScript","callback","input","accept","onchange","event","reader","FileReader","readAsText","onload","parse","result","processFile","target","files","Container","styled","div","ControlButton","button","ControlMenu","setBlockList","setModifySceneId","setIsSceneFormOpened","onClick","e","confirm","isOpend","Anchor","Red","SceneID","CharacterName","SceneScript","OptionGroup","ol","OptionItem","li","FileDescription","span","Script","props","color","MenuGroup","ul","MenuItem","ScriptBlock","sceneId","characterName","sceneScript","characterImage","backgroundImage","sceneSound","backgroundSound","options","nextSceneId","sceneType","moveBlockBy","removeBlock","modifyBlock","id","length","aria-label","map","i","message","answer","reaction","nextId","key","findIndex","block","ScriptView","by","index","at","tmpArray","slice","removeIndex","concat","DEFAULT_SCENE","InputGroup","InputPair","Label","label","TextInput","TextArea","textarea","ScriptInputPresenter","isModifyMode","formData","onInputChange","onOptionAddClick","onOptionRemoveClick","onNewBlockClick","onModifyBlockClick","name","data-value","checked","onChange","htmlFor","placeholder","value","disabled","style","display","flex","data-option-index","ScriptInput","ScriptInputController","createNewBlock","modifySceneId","defaultScene","find","useEffect","setFormData","useState","dataset","optionIndex","dataValue","undefined","Object","assign","BlockContainer","App","cachedBlockList","getItem","loadBlockList","isSceneFormOpened","blockData","targetIndex","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.30080bf3.chunk.js","sourcesContent":["const LOCAL_STORAGE_ID = \"me.1000ship.game-script-tool\";\n\nexport const loadBlockList = () => {\n  let cachedBlockList;\n  try {\n    cachedBlockList = JSON.parse(localStorage.getItem(LOCAL_STORAGE_ID));\n    if (cachedBlockList === null) cachedBlockList = [];\n  } catch {\n    cachedBlockList = [];\n  }\n  return cachedBlockList;\n};\n\nexport const saveBlockList = (blockList) => {\n  try {\n    localStorage.setItem(LOCAL_STORAGE_ID, JSON.stringify(blockList));\n  } catch {\n    alert(\"자동 저장 중 문제 발생\");\n  }\n};\n\nexport const exportScript = (blockList) => {\n  try {\n    download(\n      JSON.stringify(blockList),\n      `script_${parseInt(Math.random() * 1000)}`,\n      \"txt\"\n    );\n  } catch {\n    alert(\"저장하는데 문제가 생겼어요\");\n  }\n};\n\nexport const importScript = (callback) => {\n  try {\n    var input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"text/plain, text/html, .jsp\";\n    input.click();\n    input.onchange = function (event) {\n      processFile(event.target.files[0]);\n    };\n    function processFile(file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function () {\n        callback( JSON.parse(reader.result) )\n      };\n    }\n  } catch {\n    alert(\"불러오는데 문제가 생겼어요\");\n  }\n};\n\nfunction download(data, filename, type) {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { exportScript, importScript, saveBlockList } from \"../Utils/api\";\n\nconst Container = styled.div`\n  position: fixed;\n  right: 5px;\n  bottom: 5px;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ControlButton = styled.button`\n  padding: 5px 5px;\n`;\n\nconst ControlMenu = ({\n  blockList,\n  setBlockList,\n  setModifySceneId,\n  setIsSceneFormOpened,\n}) => {\n  const onAddSceneBlockClick = (e) => {\n    setIsSceneFormOpened((isOpend) => !isOpend);\n    setModifySceneId(null);\n  };\n  \n  const onImportClick = (e) => {\n    importScript((data) => {\n      setBlockList(data);\n      saveBlockList(data);\n    });\n  };\n\n  const onExportClick = (e) => {\n    exportScript(blockList);\n  };\n\n  const onClearScriptClick = (e) => {\n    if (!window.confirm(\"정말 모든 Scene을 삭제할까요??\")) return;\n    setBlockList([]);\n    window.alert(\"삭제했습니다. 원치않았다면 지금 당장 새로고침을 눌러주세요.\");\n  };\n\n  return (\n    <Container>\n      <ControlButton onClick={onClearScriptClick}>Clear Script</ControlButton>\n      <ControlButton onClick={onAddSceneBlockClick}>\n        Add Scene Block\n      </ControlButton>\n      <ControlButton onClick={onImportClick}>Import Script</ControlButton>\n      <ControlButton onClick={onExportClick}>Export Script</ControlButton>\n    </Container>\n  );\n};\n\nexport default ControlMenu;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Anchor = styled.a`\n  color: inherit;\n  text-decoration: none;\n`;\n\nconst Red = styled(Anchor)`\n  color: red;\n  font-weight: bolder;\n`;\n\nconst Container = styled.div`\n  background-color: #efefef;\n  padding: 10px;\n  margin: 5px;\n  position: relative;\n`;\nconst SceneID = styled.div`\n  font-weight: 800;\n  cursor: pointer;\n  & small {\n    font-weight: 400;\n    cursor: default;\n    margin-left: 8px;\n  }\n`;\nconst CharacterName = styled.div`\n  font-style: italic;\n  margin-top: 5px;\n`;\nconst SceneScript = styled.div`\n  margin-top: 5px;\n  background-color: white;\n  padding: 5px;\n  border-radius: 3px;\n`;\nconst OptionGroup = styled.ol``;\nconst OptionItem = styled.li``;\nconst FileDescription = styled.span`\n  margin-right: 10px;\n  font-size: 13px;\n`;\nconst Script = styled.span`\n  background-color: ${(props) => (props.color ? props.color : \"white\")};\n  border-radius: 5px;\n  padding: 3px;\n  display: inline-block;\n`;\n\nconst MenuGroup = styled.ul`\n  margin: 0px;\n  padding: 0px;\n  list-style: none;\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  display: flex;\n`;\nconst MenuItem = styled.li`\n  font-size: 12px;\n  margin-left: 6px;\n  cursor: pointer;\n  &:hover {\n    font-weight: bolder;\n  }\n`;\n\nfunction ScriptBlock(props) {\n  const {\n    sceneId,\n    characterName,\n    sceneScript,\n    characterImage,\n    backgroundImage,\n    sceneSound,\n    backgroundSound,\n    options,\n    nextSceneId,\n    sceneType,\n    moveBlockBy,\n    removeBlock,\n    modifyBlock,\n    blockList,\n  } = props;\n\n  const onRemoveClick = () => {\n    removeBlock(sceneId);\n  };\n\n  const onModifyClick = () => {\n    modifyBlock(sceneId);\n  };\n\n  const alertMessage = ( message ) => (e) => {\n    alert(message);\n  }\n\n  return (\n    <Container id={sceneId}>\n      <MenuGroup>\n        <MenuItem onClick={(e) => moveBlockBy(sceneId, -1)}>위로</MenuItem>\n        <MenuItem onClick={(e) => moveBlockBy(sceneId, 1)}>아래로</MenuItem>\n        <MenuItem onClick={onRemoveClick}>삭제</MenuItem>\n        <MenuItem onClick={onModifyClick}>수정</MenuItem>\n      </MenuGroup>\n      <Anchor href={`#${sceneId}`}>\n        <SceneID>\n          {sceneId}{\" \"}\n          <small>\n            {sceneType === \"ending\" ? \"🔚엔딩\" : sceneType === \"text\" ? \"💬채팅\" : \"👥만남\"}\n          </small>\n        </SceneID>\n      </Anchor>\n      {sceneType !== \"ending\" && <CharacterName>{characterName}</CharacterName>}\n      <SceneScript>{sceneScript}</SceneScript>\n      {sceneType !== \"ending\" && characterImage?.length > 0 && (\n        <FileDescription aria-label=\"man\">\n          🕺🏻캐릭터이미지 <b>\"{characterImage}\"</b>\n        </FileDescription>\n      )}\n      {sceneType !== \"ending\" && backgroundImage?.length > 0 && (\n        <FileDescription aria-label=\"landscape\">\n          🏞배경이미지 <b>\"{backgroundImage}\"</b>\n        </FileDescription>\n      )}\n      {sceneType !== \"ending\" && sceneSound?.length > 0 && (\n        <FileDescription aria-label=\"speaker\">\n          🔈대사 <b>\"{sceneSound}\"</b>\n        </FileDescription>\n      )}\n      {sceneType !== \"ending\" && backgroundSound?.length > 0 && (\n        <FileDescription aria-label=\"music\">\n          🎼배경음악 <b>\"{backgroundSound}\"</b>\n        </FileDescription>\n      )}\n      {sceneType !== \"ending\" && (\n        <>\n          {options.length === 0 ? (\n            <div>Next Scene ID : {nextSceneId}</div>\n          ) : (\n            <OptionGroup>\n              {options.map(({ answer, reaction, nextId }, i) => (\n                <OptionItem key={i}>\n                  {answer?.length > 0 ? (\n                    <>\n                      <Script color=\"lightcyan\">{answer}</Script> 선택 시\n                    </>\n                  ) : null}\n                  {answer?.length > 0 ? \" → \" : null}\n                  {reaction?.length > 0 ? (\n                    <>\n                      <Script color=\"lightyellow\">{reaction}</Script> 반응\n                    </>\n                  ) : null}\n                  {reaction?.length > 0 ? \" → \" : null}\n                    {blockList.findIndex((block) => block.sceneId === nextId) === -1 ? (\n                      <Red href=\"#\" onClick={alertMessage(\"존재하지 않는 Scene ID 입니다.\")}>{nextId}</Red>\n                    ) : (\n                      <Anchor href={`#${nextId}`}>\n                        <b>{nextId}</b>\n                      </Anchor>\n                    )}{\" \"}\n                    장면 이동\n                </OptionItem>\n              ))}\n            </OptionGroup>\n          )}\n        </>\n      )}\n    </Container>\n  );\n}\n\nexport default ScriptBlock;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport ScriptBlock from \"./Partials/ScriptBlock\";\nimport { saveBlockList } from \"../Utils/api\";\n\nconst Container = styled.div`\n  padding: 5px 0px;\n`;\n\nfunction ScriptView({\n  blockList,\n  setBlockList,\n  setModifySceneId,\n  setIsSceneFormOpened,\n}) {\n  const moveBlockBy = (sceneId, by) => {\n    const index = blockList.findIndex((block) => block.sceneId === sceneId);\n    const at = index + by;\n    if (at < 0 || at >= blockList.length) return;\n    setBlockList((blockList) => {\n      const tmpArray = [\n        ...blockList.slice(0, index),\n        ...blockList.slice(index + 1),\n      ];\n      const result = [\n        ...tmpArray.slice(0, at),\n        blockList[index],\n        ...tmpArray.slice(at),\n      ];\n      saveBlockList(result);\n      return result;\n    });\n  };\n\n  const removeBlock = (sceneId) => {\n    if (!window.confirm(\"삭제한 후 되돌릴 수 없습니다. 삭제하시겠습니까?\"))\n      return;\n    setBlockList((blockList) => {\n      const removeIndex = blockList.findIndex(\n        (block) => block.sceneId === sceneId\n      );\n      saveBlockList(\n        blockList.slice(0, removeIndex).concat(blockList.slice(removeIndex + 1))\n      );\n      return blockList\n        .slice(0, removeIndex)\n        .concat(blockList.slice(removeIndex + 1));\n    });\n  };\n\n  const modifyBlock = (sceneId) => {\n    setIsSceneFormOpened( true )\n    setModifySceneId( sceneId )\n  }\n\n  return (\n    <Container>\n      {blockList.map(\n        ( block, i ) => (\n          <ScriptBlock\n            key={block.sceneId}\n            {...block}\n            moveBlockBy={moveBlockBy}\n            removeBlock={removeBlock}\n            modifyBlock={modifyBlock}\n            blockList={blockList}\n          ></ScriptBlock>\n        )\n      )}\n    </Container>\n  );\n}\n\nexport default ScriptView;\n","export const DEFAULT_SCENE = {\n  sceneId: \"\",\n  characterName: \"\",\n  sceneScript: \"\",\n  characterImage: \"\",\n  backgroundImage: \"\",\n  sceneSound: \"\",\n  backgroundSound: \"\",\n  nextSceneId: \"\",\n  options: [\n    {\n      answer: \"\",\n      reaction: \"\",\n      nextId: \"\",\n    },\n  ],\n  sceneType: \"meet\",\n};\n\n\nexport const SCENE_TYPE_MEET = \"meet\"\nexport const SCENE_TYPE_TEXT = \"text\"\nexport const SCENE_TYPE_ENDING = \"ending\"","import React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  SCENE_TYPE_MEET,\n  SCENE_TYPE_TEXT,\n  SCENE_TYPE_ENDING,\n} from \"./constant\";\n\nconst Container = styled.div`\n  display: ${({ isOpend }) => (isOpend ? \"block\" : \"none\")};\n  padding: 10px 0px;\n  border-bottom: 1px solid gray;\n  z-index: 1;\n`;\nconst InputGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nconst InputPair = styled.div`\n  padding: 3px 0px;\n`;\nconst Label = styled.label``;\nconst TextInput = styled.input``;\nconst TextArea = styled.textarea`\n  width: 100%;\n  height: 50px;\n  display: block;\n`;\n\nconst ScriptInputPresenter = ({ isOpend, isModifyMode, formData: { sceneId, characterName, sceneScript, characterImage, backgroundImage, sceneSound, backgroundSound, nextSceneId, options, sceneType }, onInputChange, onOptionAddClick, onOptionRemoveClick, onNewBlockClick, onModifyBlockClick}) => (\n  <Container isOpend={isOpend}>\n    <InputPair>\n      <span>Scene Type : </span>\n      <TextInput\n        name=\"sceneType\"\n        id=\"scene-type-meet\"\n        data-value={SCENE_TYPE_MEET}\n        type=\"radio\"\n        checked={sceneType === SCENE_TYPE_MEET}\n        onChange={onInputChange}\n      ></TextInput>\n      <Label htmlFor=\"scene-type-meet\">만남</Label>\n      <TextInput\n        name=\"sceneType\"\n        id=\"scene-type-text\"\n        data-value={SCENE_TYPE_TEXT}\n        type=\"radio\"\n        checked={sceneType === SCENE_TYPE_TEXT}\n        onChange={onInputChange}\n      ></TextInput>\n      <Label htmlFor=\"scene-type-text\">문자</Label>\n      <TextInput\n        name=\"sceneType\"\n        id=\"scene-type-ending\"\n        data-value={SCENE_TYPE_ENDING}\n        type=\"radio\"\n        checked={sceneType === SCENE_TYPE_ENDING}\n        onChange={onInputChange}\n      ></TextInput>\n      <Label htmlFor=\"scene-type-ending\">엔딩</Label>\n    </InputPair>\n    <InputPair>\n      <Label htmlFor=\"scene-id\">Scene ID : </Label>\n      <TextInput\n        name=\"sceneId\"\n        id=\"scene-id\"\n        type=\"text\"\n        placeholder=\"#3-1\"\n        value={sceneId}\n        onChange={onInputChange}\n        disabled={isModifyMode}\n      ></TextInput>\n      {isModifyMode && <small> 수정 중</small>}\n    </InputPair>\n    {sceneType !== SCENE_TYPE_ENDING && (\n      <InputPair>\n        <Label htmlFor=\"character-name\">Character Name : </Label>\n        <TextInput\n          name=\"characterName\"\n          value={characterName}\n          onChange={onInputChange}\n          id=\"character-name\"\n          type=\"text\"\n          placeholder=\"John Mayer\"\n        ></TextInput>\n      </InputPair>\n    )}\n\n    <InputPair>\n      <Label htmlFor=\"scene-script\">Scene Script : </Label>\n      <TextArea\n        name=\"sceneScript\"\n        value={sceneScript}\n        onChange={onInputChange}\n        id=\"scene-script\"\n        placeholder={\n          sceneType !== SCENE_TYPE_ENDING\n            ? \"Hello, the weather is sunny. Shall we go picnic?\"\n            : \"Game Over, She didn't reply to your message forever\"\n        }\n      ></TextArea>\n    </InputPair>\n\n    {sceneType !== SCENE_TYPE_ENDING && (\n      <InputGroup>\n        <InputPair>\n          <Label htmlFor=\"character-image\">Character Image : </Label>\n          <TextInput\n            name=\"characterImage\"\n            value={characterImage}\n            onChange={onInputChange}\n            id=\"character-image\"\n            type=\"text\"\n            placeholder=\"smile.png (선택입력)\"\n          ></TextInput>\n        </InputPair>\n        <InputPair>\n          <Label htmlFor=\"background-image\">Background Image : </Label>\n          <TextInput\n            name=\"backgroundImage\"\n            value={backgroundImage}\n            onChange={onInputChange}\n            id=\"background-image\"\n            type=\"text\"\n            placeholder=\"park.png (선택입력)\"\n          ></TextInput>\n        </InputPair>\n        <InputPair>\n          <Label htmlFor=\"scene-sound\">Scene Sound : </Label>\n          <TextInput\n            name=\"sceneSound\"\n            value={sceneSound}\n            onChange={onInputChange}\n            id=\"scene-sound\"\n            type=\"text\"\n            placeholder=\"laugh.mp3 (선택입력)\"\n          ></TextInput>\n        </InputPair>\n        <InputPair>\n          <Label htmlFor=\"background-sound\">Background Sound : </Label>\n          <TextInput\n            name=\"backgroundSound\"\n            value={backgroundSound}\n            onChange={onInputChange}\n            id=\"background-sound\"\n            type=\"text\"\n            placeholder=\"cafe.mp3 (선택입력)\"\n          ></TextInput>\n        </InputPair>\n      </InputGroup>\n    )}\n    {sceneType !== SCENE_TYPE_ENDING && (\n      <>\n        {options.length > 0 ? (\n          options.map(({ answer, reaction, nextId }, i) => (\n            <InputPair key={i} style={{ display: \"flex\" }}>\n              <Label>{i + 1}. </Label>\n              <TextInput\n                style={{ flex: 1 }}\n                type=\"text\"\n                placeholder=\"(대답) I like too\"\n                name=\"answer\"\n                data-option-index={i}\n                value={answer}\n                onChange={onInputChange}\n              ></TextInput>\n              <TextInput\n                style={{ flex: 1 }}\n                type=\"text\"\n                placeholder=\"(반응) Let's meet now\"\n                name=\"reaction\"\n                data-option-index={i}\n                value={reaction}\n                onChange={onInputChange}\n              ></TextInput>\n              <TextInput\n                type=\"text\"\n                placeholder={`#3-${i + 2}`}\n                name=\"nextId\"\n                data-option-index={i}\n                value={nextId}\n                onChange={onInputChange}\n              ></TextInput>\n            </InputPair>\n          ))\n        ) : (\n          <InputPair>\n            <Label htmlFor=\"next-scene-id\">Next Scene ID : </Label>\n            <TextInput\n              name=\"nextSceneId\"\n              value={nextSceneId}\n              onChange={onInputChange}\n              id=\"next-scene-id\"\n              type=\"text\"\n              placeholder=\"#4-1\"\n            ></TextInput>\n          </InputPair>\n        )}\n        <button onClick={onOptionAddClick}>선택지 추가</button>\n        {options.length > 0 && (\n          <button onClick={onOptionRemoveClick}>선택지 삭제</button>\n        )}\n        <br />\n      </>\n    )}\n    <button onClick={isModifyMode ? onModifyBlockClick : onNewBlockClick}>\n      {isModifyMode ? \"블럭 수정\" : \"블럭 추가\"}\n    </button>\n  </Container>\n);\n\nexport default ScriptInputPresenter;\n","import React, { useState, useEffect } from \"react\";\nimport ScriptInputPresenter from \"./ScriptInputPresenter\";\nimport { OPTION_MINIMUM_COUNT } from \"../../Utils/Constant\";\nimport { DEFAULT_SCENE } from \"./constant\";\n\nfunction ScriptInput({ createNewBlock, modifyBlock, blockList, isOpend, modifySceneId = null }) {\n  const defaultScene = modifySceneId ? blockList.find((data) => data.sceneId === modifySceneId) : DEFAULT_SCENE;\n  useEffect(() => { setFormData({ ...defaultScene }); }, [defaultScene]);\n\n  let [formData, setFormData] = useState(defaultScene);\n  let { sceneId, options } = formData;\n\n  const onInputChange = (e) => {\n    const {\n      name,\n      value,\n      dataset: { optionIndex, value: dataValue },\n    } = e.target;\n    if (formData[name] === undefined && optionIndex === undefined) return;\n    if (dataValue !== undefined)\n      // for radio button\n      setFormData({\n        ...formData,\n        [name]: dataValue,\n      });\n    else if (optionIndex === undefined)\n      // for text input\n      setFormData({\n        ...formData,\n        [name]: value,\n      });\n    else {\n      // for option text input\n      setFormData((data) => {\n        data.options[optionIndex][name] = value;\n        return Object.assign({}, data);\n      });\n    }\n  };\n\n  const onOptionAddClick = (e) => {\n    setFormData({\n      ...formData,\n      options: formData.options.concat({\n        answer: \"\",\n        reaction: \"\",\n        nextId: \"\",\n      }),\n    });\n  };\n\n  const onOptionRemoveClick = (e) => {\n    if (options.length > OPTION_MINIMUM_COUNT)\n      setFormData({\n        ...formData,\n        options: options.slice(0, options.length - 1),\n      });\n  };\n\n  const onNewBlockClick = (e) => {\n    if (sceneId.length === 0) alert(\"Scene ID를 입력하세요.\");\n    else if (blockList.find((block) => block.sceneId === sceneId)) {\n      alert(\"중복되는 Scene Type과 Scene ID가 있습니다.\");\n    } else if (createNewBlock) {\n      createNewBlock(Object.assign({}, formData));\n      setFormData({\n        ...defaultScene,\n        options: [\n          {\n            answer: \"\",\n            reaction: \"\",\n            nextId: \"\",\n          },\n        ],\n      });\n    }\n  };\n\n  const onModifyBlockClick = (e) => {\n    modifyBlock(Object.assign({}, formData));\n  };\n\n  return (\n    <ScriptInputPresenter\n      isOpend={isOpend}\n      isModifyMode={modifySceneId !== null}\n      formData={formData}\n      onInputChange={onInputChange}\n      onOptionAddClick={onOptionAddClick}\n      onOptionRemoveClick={onOptionRemoveClick}\n      onNewBlockClick={onNewBlockClick}\n      onModifyBlockClick={onModifyBlockClick}\n    ></ScriptInputPresenter>\n  );\n}\n\nexport default ScriptInput;\n","import ScriptInputController from \"./ScriptInputController\";\n\nexport default ScriptInputController;\n","\nexport const OPTION_MINIMUM_COUNT = 0","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport ControlMenu from \"./Components/ControlMenu\";\nimport ScriptView from \"./Components/ScriptView\";\nimport ScriptInput from \"./Components/ScriptInput\";\nimport { loadBlockList, saveBlockList } from \"./Utils/api\";\n\nconst Container = styled.div`\n  @media (min-width: 800px) {\n    width: 80%;\n  }\n  margin: auto auto;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst BlockContainer = styled.div`\n  overflow-y: auto;\n`;\n\nfunction App() {\n  const cachedBlockList = loadBlockList();\n  let [blockList, setBlockList] = useState(cachedBlockList);\n  let [isSceneFormOpened, setIsSceneFormOpened] = useState(false);\n  let [modifySceneId, setModifySceneId] = useState(null);\n\n  const createNewBlock = (blockData) => {\n    saveBlockList([...blockList, blockData]);\n    setBlockList([...blockList, blockData]);\n  };\n\n  const modifyBlock = (blockData) => {\n    const targetIndex = blockList.findIndex(\n      (data) => data.sceneId === blockData.sceneId\n    );\n    if (targetIndex === -1) {\n      alert(`수정하고자하는 Scene ${blockData.sceneId}을 찾을 수 없습니다.`);\n      return;\n    }\n    saveBlockList([\n      ...blockList.slice(0, targetIndex),\n      blockData,\n      ...blockList.slice(targetIndex + 1),\n    ]);\n    setBlockList([\n      ...blockList.slice(0, targetIndex),\n      blockData,\n      ...blockList.slice(targetIndex + 1),\n    ]);\n    setModifySceneId(null);\n    setIsSceneFormOpened(false);\n  };\n\n  return (\n    <Container>\n      <ControlMenu\n        blockList={blockList}\n        setBlockList={setBlockList}\n        setModifySceneId={setModifySceneId}\n        setIsSceneFormOpened={setIsSceneFormOpened}\n      ></ControlMenu>\n      <ScriptInput\n        blockList={blockList}\n        createNewBlock={createNewBlock}\n        modifyBlock={modifyBlock}\n        isOpend={isSceneFormOpened}\n        modifySceneId={modifySceneId}\n      ></ScriptInput>\n      <BlockContainer>\n        <ScriptView\n          blockList={blockList}\n          setBlockList={setBlockList}\n          setModifySceneId={setModifySceneId}\n          setIsSceneFormOpened={setIsSceneFormOpened}\n        ></ScriptView>\n      </BlockContainer>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}